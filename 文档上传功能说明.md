# 文档上传功能说明

## 功能概述

已成功将原本的文本输入方式改为文档上传方式，支持多种文档格式的上传和处理。

## AIGC检测对比图

![AIGC检测对比图](https://youke2.picui.cn/s1/2025/12/16/69416e104af28.png)

## 主要功能特性

### 1. 文档上传支持
- **支持格式**：
  - 文本文档：.txt
  - Word文档：.doc, .docx
  - PDF文档：.pdf
  - 图片格式：.jpg, .jpeg, .png, .bmp, .tiff
  - Excel表格：.xls, .xlsx
  - PowerPoint：.ppt, .pptx

- **文件大小限制**：50MB
- **上传方式**：点击上传或拖拽上传

### 2. 智能文本提取
- 自动从上传的文档中提取文本内容
- 支持OCR文字识别（图片格式）
- 文本清理和预处理
- 显示提取进度和结果

### 3. 双模式切换
- **文档上传模式**：默认模式，支持上传各类文档
- **文本输入模式**：传统的文本输入方式
- 用户可以随时切换两种模式

### 4. 用户体验优化
- 实时显示文件信息（文件名、大小、类型）
- 提取��度显示
- 文本预览功能
- 文档图标识别
- 长文本分段处理建议

## 技术实现

### 1. 核心组件
- `DocumentUpload.tsx`：文档上传组件
- `documentService.ts`：文档处理服务
- 更新了 `App.tsx` 以支持文档上传

### 2. 文档处理服务
```typescript
// 支持的功能
- 文档格式检测
- 文本提取处理
- 文本清理优化
- 分段处理建议
- 元数据管理
```

### 3. 实际部署建议
要完整实现文档处理功能，需要集成以下库：

- **Word文档**：`npm install mammoth`
- **PDF文档**：`npm install pdf-parse`
- **图片OCR**：`npm install tesseract.js`
- **Excel表格**：`npm install xlsx`
- **PowerPoint**：需要专门的PPT解析库

## 使用流程

1. **选择上传方式**：默认为"文档上传"模式
2. **上传文档**：点击上传区域或拖拽文件
3. **文本提取**：系统自动提取文档中的文本
4. **选择改写模式**：标准、轻度、深度、学术风格
5. **开始改写**：点击"开始AIGC降重"按钮
6. **查看结果**：右侧显示改写后的文本

## 界面特点

- 现代化的拖拽上传界面
- 直观的文件类型图标显示
- 实时的处理进度反馈
- 清晰的文本内容预览
- 友好的错误提示

## 测试文件

项目根目录下提供了测试文档 `test-document.txt`，可用于测试上传和改写功能。

## 后续优化建议

1. 集成真实的文档处理库，替换示例文本
2. 添加批量文件处理功能
3. 实现更精确的OCR识别
4. 添加文档编辑功能
5. 支持更多文档格式